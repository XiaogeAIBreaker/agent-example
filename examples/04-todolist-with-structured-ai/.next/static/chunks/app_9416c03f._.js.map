{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Desktop/agent-example/examples/04-todolist-with-structured-ai/app/components/ChatSidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect } from 'react';\nimport { useChat } from '@ai-sdk/react';\n\nexport default function ChatSidebar() {\n  const { messages, input, handleInputChange, handleSubmit, status } = useChat({\n    api: '/api/chat',\n  });\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const isLoading = status === 'submitted' || status === 'streaming';\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg h-full flex flex-col\">\n      {/* 头部 */}\n      <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n        <div>\n          <h2 className=\"text-lg font-semibold text-gray-800 dark:text-white\">\n            🤖 AI 助手\n          </h2>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            我可以帮助你管理待办事项\n          </p>\n        </div>\n      </div>\n\n      {/* 消息区域 */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.length === 0 && (\n          <div className=\"text-center text-gray-500 dark:text-gray-400 mt-8\">\n            <p className=\"text-2xl mb-2\">👋</p>\n            <p>你好！我是你的 AI 助手</p>\n            <p className=\"text-sm mt-1\">有什么我可以帮助你的吗？</p>\n          </div>\n        )}\n        \n        {messages.map((message) => (\n          <div\n            key={message.id}\n            className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div\n              className={`max-w-[85%] px-3 py-2 rounded-lg text-sm ${\n                message.role === 'user'\n                  ? 'bg-blue-500 text-white'\n                  : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'\n              }`}\n            >\n              <div className=\"whitespace-pre-wrap\">{message.content}</div>\n            </div>\n          </div>\n        ))}\n        \n        {isLoading && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white px-3 py-2 rounded-lg text-sm\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-500\"></div>\n                <span>正在思考中...</span>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* 输入区域 */}\n      <div className=\"border-t border-gray-200 dark:border-gray-700 p-3\">\n        <form onSubmit={handleSubmit} className=\"flex gap-2\">\n          <input\n            value={input}\n            onChange={handleInputChange}\n            placeholder=\"输入你的消息...\"\n            disabled={isLoading}\n            className=\"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50\"\n          />\n          <button\n            type=\"submit\"\n            disabled={isLoading || !input.trim()}\n            className=\"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n          >\n            发送\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,UAAO,AAAD,EAAE;QAC3E,KAAK;IACP;IAEA,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC9C,MAAM,YAAY,WAAW,eAAe,WAAW;IAEvD,MAAM,iBAAiB;QACrB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR;QACF;gCAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAAsD;;;;;;sCAGpE,6LAAC;4BAAE,WAAU;sCAA2C;;;;;;;;;;;;;;;;;0BAO5D,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,MAAM,KAAK,mBACnB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,6LAAC;0CAAE;;;;;;0CACH,6LAAC;gCAAE,WAAU;0CAAe;;;;;;;;;;;;oBAI/B,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;4BAEC,WAAW,CAAC,KAAK,EAAE,QAAQ,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;sCAE9E,cAAA,6LAAC;gCACC,WAAW,CAAC,yCAAyC,EACnD,QAAQ,IAAI,KAAK,SACb,2BACA,8DACJ;0CAEF,cAAA,6LAAC;oCAAI,WAAU;8CAAuB,QAAQ,OAAO;;;;;;;;;;;2BAVlD,QAAQ,EAAE;;;;;oBAelB,2BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;kCAMd,6LAAC;wBAAI,KAAK;;;;;;;;;;;;0BAIZ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BACC,OAAO;4BACP,UAAU;4BACV,aAAY;4BACZ,UAAU;4BACV,WAAU;;;;;;sCAEZ,6LAAC;4BACC,MAAK;4BACL,UAAU,aAAa,CAAC,MAAM,IAAI;4BAClC,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;GA5FwB;;QAC+C,yJAAA,CAAA,UAAO;;;KADtD","debugId":null}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Desktop/agent-example/examples/04-todolist-with-structured-ai/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport ChatSidebar from './components/ChatSidebar';\n\ninterface Todo {\n  id: number;\n  text: string;\n  completed: boolean;\n}\n\nexport default function TodoList() {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [inputValue, setInputValue] = useState('');\n\n  const addTodo = () => {\n    if (inputValue.trim() !== '') {\n      const newTodo: Todo = {\n        id: Date.now(),\n        text: inputValue.trim(),\n        completed: false,\n      };\n      setTodos([...todos, newTodo]);\n      setInputValue('');\n    }\n  };\n\n  const deleteTodo = (id: number) => {\n    setTodos(todos.filter(todo => todo.id !== id));\n  };\n\n  const toggleTodo = (id: number) => {\n    setTodos(todos.map(todo =>\n      todo.id === id ? { ...todo, completed: !todo.completed } : todo\n    ));\n  };\n\n  const completedCount = todos.filter(todo => todo.completed).length;\n  const totalCount = todos.length;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4\">\n      <div className=\"max-w-6xl mx-auto h-[calc(100vh-2rem)] flex flex-col lg:flex-row gap-6\">\n        {/* 左侧：待办事项 */}\n        <div className=\"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 overflow-y-auto\">\n          <h1 className=\"text-3xl font-bold text-center text-gray-800 dark:text-white mb-8\">\n            📝 待办事项\n          </h1>\n          \n          {/* 添加新任务 */}\n          <div className=\"flex gap-2 mb-6\">\n            <input\n              type=\"text\"\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && addTodo()}\n              placeholder=\"添加新任务...\"\n              className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n            />\n            <button\n              onClick={addTodo}\n              className=\"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200 font-medium\"\n            >\n              添加\n            </button>\n          </div>\n\n          {/* 统计信息 */}\n          {totalCount > 0 && (\n            <div className=\"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n              <p className=\"text-sm text-gray-600 dark:text-gray-300 text-center\">\n                总计: {totalCount} 任务 | 已完成: {completedCount} 任务 | \n                剩余: {totalCount - completedCount} 任务\n              </p>\n            </div>\n          )}\n\n          {/* 任务列表 */}\n          <div className=\"space-y-2\">\n            {todos.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 dark:text-gray-400 text-lg\">\n                  暂无任务，添加一个新任务开始吧！\n                </p>\n                <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-2\">\n                  💡 你也可以向<span className=\"lg:inline hidden\">右侧</span><span className=\"lg:hidden inline\">下方</span>的 AI 助手寻求帮助和建议\n                </p>\n              </div>\n            ) : (\n              todos.map((todo) => (\n                <div\n                  key={todo.id}\n                  className={`flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ${\n                    todo.completed\n                      ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800'\n                      : 'bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:shadow-md'\n                  }`}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    onChange={() => toggleTodo(todo.id)}\n                    className=\"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 focus:ring-2\"\n                  />\n                  <span\n                    className={`flex-1 ${\n                      todo.completed\n                        ? 'line-through text-gray-500 dark:text-gray-400'\n                        : 'text-gray-800 dark:text-white'\n                    }`}\n                  >\n                    {todo.text}\n                  </span>\n                  <button\n                    onClick={() => deleteTodo(todo.id)}\n                    className=\"px-3 py-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors duration-200\"\n                    title=\"删除任务\"\n                  >\n                    🗑️\n                  </button>\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* 快捷操作 */}\n          {todos.length > 0 && (\n            <div className=\"mt-6 flex gap-2 justify-center\">\n              <button\n                onClick={() => setTodos(todos.filter(todo => !todo.completed))}\n                className=\"px-4 py-2 text-sm bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors duration-200\"\n                disabled={completedCount === 0}\n              >\n                清除已完成 ({completedCount})\n              </button>\n              <button\n                onClick={() => setTodos([])}\n                className=\"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200\"\n              >\n                清除全部\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* 右侧：AI助手侧边栏 */}\n        <div className=\"w-full lg:w-80 h-96 lg:h-full\">\n          <ChatSidebar />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}